@{
    ViewBag.Title = "SwimlaneChart";
}
<link href="@Url.Content("~/Content/demo-all.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/perimeterAnchorsDemo.css")" rel="stylesheet" type="text/css" />
<h2>
    Swimlane Map - Test Process</h2>
<div id="pallette-menu">
    <ul>
        <h4 style="text-align: center">
            Drawing Palette</h4>
        <li class="pallette-shape">
            <div class="shape roundedRectangle gradient pallette">
                Action<span class="drag_icon">&#10150;</span></div>
        </li>
        <li class="pallette-shape">
            <div class="shape pallette" data-shape="Circle_start">
                Start<span class="drag_icon">&#10150;</span></div>
        </li>
        <li class="pallette-shape">
            <div class="shape pallette" data-shape="Circle_stop">
                Stop<span class="drag_icon">&#10150;</span></div>
        </li>
        <li class="pallette-shape">
            <div class="shape pallette" data-shape="Diamond">
                Decision<span class="drag_icon">&#10150;</span></div>
        </li>
    </ul>
</div>

<div id="pallette-container">
    <div id="pallette-draw">
        <ul class="list img-list">
            <li>
                <div class="li-text">
                    <h5 class="li-head">
                        Corp. Customer</h5>
                </div>
                <div id="window1" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Customer</div>
                    <span class="drag_icon">&#10150;</span></div>
                <div id="window2" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Customer</div>
                    <span class="drag_icon">&#10150;</span></div>
            </li>
            <li>
                <div class="li-text">
                    <h5 class="li-head">
                        Sales</h5>
                </div>
                <div id="window3" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Sales</div>
                    <span class="drag_icon">&#10150;</span></div>
            </li>
            <li>
                <div class="li-text">
                    <h5 class="li-head">
                        Administration</h5>
                </div>
                <div id="window4" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Admin</div>
                    <span class="drag_icon">&#10150;</span></div>
            </li>
            <li>
                <div class="li-text">
                    <h5 class="li-head">
                        Software Provider</h5>
                </div>
                <div id="window5" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Software Vendor</div>
                    <span class="drag_icon">&#10150;</span></div>
            </li>
            <li>
                <div class="li-text">
                    <h5 class="li-head">
                        Service</h5>
                </div>
                <div id="window6" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Consultant Svcs. Conducts Needs Assesment</div>
                    <span class="drag_icon">&#10150;</span></div>
                <div id="window7" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        IT Professional Installs Software + Writes API</div>
                    <span class="drag_icon">&#10150;</span></div>
                <div id="window8" class="shape roundedRectangle gradient">
                    <div class="shape-label">
                        Consultant Trains Customer On Software</div>
                    <span class="drag_icon">&#10150;</span></div>
            </li>
        </ul>
        <div id="render">
        </div>

    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {

        counter = 0;

        $(".pallette").draggable({
            containment: '#pallette-draw',
            helper: 'clone',
            stop: function (event, ui) {


                /* var clone = $('.clone');

                jsPlumb.makeTarget(clone, { dropOptions: { hoverClass: "dragHover" }, anchor: "Continuous" });

                clone.removeClass('clone');
                console.log("clone class removed");

                jsPlumbDemo.init();
                console.log("init calles");*/

                if ($(ui.helper).hasClass('clone')) {
                    var clone = $('clone');

                    jsPlumb.setDraggable(clone, true);
                }
            }
        });



        $('li').droppable({
            hoverClass: "ui-state-active",
            drop: function (event, ui) {
                if ($(ui.helper).hasClass('pallette')) {
                    $(ui.helper).clone(true).removeClass('pallette ui-draggable-dragging jsPlumb_dragged').addClass('clone').appendTo($('#pallette-draw'));
                }                
            }
        });
        $('.img-list').sortable({ hoverClass: "ui-state-active" });
        $('.img-list').disableSelection();

        /* Connection 1 */
        jsPlumb.connect({ source: $('#window2'), target: $('#window3'), anchor: "Continuous", overlays: [["Label", { label: "Customer Places Purchase Order", location: 0.7, id: "label1"}]] });
        /* Connection 2 */
        jsPlumb.connect({ source: $('#window3'), target: $('#window4'), anchor: "Continuous", overlays: [["Label", { label: "Sales Sends Purchase Order On To Admin", location: 0.7, id: "label2"}]] });
        /* Connection 3 */
        jsPlumb.connect({ source: $('#window3'), target: $('#window6'), anchor: "Continuous", overlays: [["Label", { label: "Sales Informs Consultant Svcs. Of customer order", location: 0.7, id: "label3"}]] });
        /* Connection 4 */
        jsPlumb.connect({ source: $('#window1'), target: $('#window4'), anchor: "Continuous", overlays: [["Label", { label: "Customer Makes Payment", location: 0.7, id: "label4"}]] });
        /* Connection 5 */
        jsPlumb.connect({ source: $('#window4'), target: $('#window1'), anchor: "Continuous", overlays: [["Label", { label: "Admin Invoices Customer", location: 0.7, id: "label5"}]] });
        /* Connection 6 */
        jsPlumb.connect({ source: $('#window4'), target: $('#window5'), anchor: "Continuous", overlays: [["Label", { label: "Admin Sends Purchase Order to Software Vendor", location: 0.7, id: "label6"}]] });
        /* Connection 8 */
        jsPlumb.connect({ source: $('#window5'), target: $('#window7'), anchor: "Continuous", overlays: [["Label", { label: "", location: 0.7, id: "label8"}]] });
        /* Connection 9 */
        jsPlumb.connect({ source: $('#window6'), target: $('#window4'), anchor: "Continuous", overlays: [["Label", { label: "Consultant Puts in Request for Software", location: 0.7, id: "label9"}]] });
        /* Connection 10 */
        jsPlumb.connect({ source: $('#window6'), target: $('#window7'), anchor: "Continuous", overlays: [["Label", { label: "Consultant Sends stats to Programmers", location: 0.7, id: "label10"}]] });
        /* Connection 11 */
        jsPlumb.connect({ source: $('#window7'), target: $('#window8'), anchor: "Continuous", overlays: [["Label", { label: "", location: 0.7, id: "label11"}]] });
        /* Connection 7 */
        jsPlumb.connect({ source: $('#window8'), target: $('#window1'), anchor: "Continuous", overlays: [["Label", { label: "Consulting Makes Final Delivery of Custom Software", location: 0.7, id: "label7"}]] });

    });  

</script>
<style>
    /* Shape positions */
    #window1
    {
        position: absolute;
        left: 1580px;
        top: 40px;
    }
    #window2
    {
        position: absolute;
        left: 350px;
        top: 40px;
    }
    #window3
    {
        position: absolute;
        left: 350px;
        top: 226px;
    }
    #window4
    {
        position: absolute;
        left: 590px;
        top: 407px;
    }
    #window5
    {
        position: absolute;
        left: 827px;
        top: 569px;
    }
    #window6
    {
        position: absolute;
        left: 590px;
        top: 760px;
    }
    #window7
    {
        position: absolute;
        left: 1054px;
        top: 760px;
    }
    #window8
    {
        position: absolute;
        left: 1580px;
        top: 760px;
    }
    
    .shape-label
    {
        float: left;
        width: 90%;
    }
    
    .img-list
    {
        float: left;
        width: 100%;
        margin: 0;
    }
    
    .list li
    {
        display: table;
        border-collapse: collapse;
        width: 100%;
        min-height: 180px;
        height: 180px;
        padding: 5px;
        background: #FFFFFF;
        -webkit-box-shadow: 0 1px 4px rgba(0,0,0,1.0);
        box-shadow: 0 1px 4px rgba(0,0,0,1.0);
        margin: 0;
    }
    .ui-state-active
    {
        background: #FEFFD6;
    }
    .inner
    {
        display: table-row;
        overflow: hidden;
    }
    .li-text
    {
        width: 180px;
        vertical-align: middle;
        background: #e1e1e1;
        
        transform: rotate(-90deg);
        -moz-transform: rotate(-90deg);
        -o-transform: rotate(-90deg);
        -webkit-transform: rotate(-90deg);
        -ms-transform: rotate(-90deg);
        -webkit-transform-origin: 88px 90px;
        -moz-transform-origin: 88px 90px;
        -ms-transform-origin: 88px 90px;
        -o-transform-origin: 88px 90px;
        
    }
    .li-head
    {
        margin: 0;
        padding: 5px 5px 5px 5px;
    }
    .li-sub
    {
        margin: 0;
    }
    
    #group3
{
}
.roundedRectangle
{
    /*position: absolute;*/
    min-width: 80px;
    max-width: 120px;
    min-height: 40px;
    background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJub25lIj48bGluZWFyR3JhZGllbnQgaWQ9ImciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4MT0iMzUiIHkxPSIwIiB4Mj0iMzUiIHkyPSIzNS41Ij48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjMWQ2OGZmIiBzdG9wLW9wYWNpdHk9IjEiLz48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjOGViNGZmIiBzdG9wLW9wYWNpdHk9IjEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPjwvbGluZWFyR3JhZGllbnQ+PHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjcwIiBoZWlnaHQ9IjM1LjUiIGZpbGw9InVybCgjZykiIC8+PC9zdmc+);
    background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, rgb(29, 104, 255)), color-stop(0%, rgb(142, 180, 255)), color-stop(100%, rgb(255, 255, 255)));
    background-image: -webkit-linear-gradient(top, rgb(29, 104, 255) 0%, rgb(142, 180, 255) 0%, rgb(255, 255, 255) 100%);
    background-image:    -moz-linear-gradient(top, rgb(29, 104, 255) 0%, rgb(142, 180, 255) 0%, rgb(255, 255, 255) 100%);
    background-image:     -ms-linear-gradient(top, rgb(29, 104, 255) 0%, rgb(142, 180, 255) 0%, rgb(255, 255, 255) 100%);
    background-image:      -o-linear-gradient(top, rgb(29, 104, 255) 0%, rgb(142, 180, 255) 0%, rgb(255, 255, 255) 100%);
    background-image:         linear-gradient(to bottom, rgb(29, 104, 255) 0%, rgb(142, 180, 255) 0%, rgb(255, 255, 255) 100%);
    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#1d68ff', endColorstr='#ffffff', GradientType=0);
    background-repeat: no-repeat;
    border: 1px solid rgb(128, 128, 128);
    font-size: 11px;
    text-align: center;
    color: rgb(0, 0, 0);
    padding: 10px 0;
    -webkit-border-radius: 4.75px 4.75px 4.75px 4.75px;
       -moz-border-radius: 4.75px 4.75px 4.75px 4.75px;
            border-radius: 4.75px 4.75px 4.75px 4.75px;
}
#group2
{
}
#group
{
}
#oval
{
    position: absolute;
    left: 185px;
    width: 4px;
    top: 94px;
    height: 4px;
    background: rgb(29, 104, 255);
    border: 1px solid rgb(0, 0, 226);
    -webkit-border-radius: 50%;
       -moz-border-radius: 50%;
            border-radius: 50%;
}
#polygon
{
    position: absolute;
    left: 184px;
    width: 6px;
    top: 98px;
    height: 7px;
}
</style>
