@{
    ViewBag.Title = "SwimlaneChart";
}

<link href="@Url.Content("~/Content/demo-all.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/perimeterAnchorsDemo.css")" rel="stylesheet" type="text/css" />

<script src="@Url.Content("~/Scripts/demo-list.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/demo-helper-jquery.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/perimeterAnchorsDemo-jquery.js")" type="text/javascript"></script>


<h2>Swimlane Map - Map 123</h2>
	
<div id="pallette-draw">

    <div id="pallette-menu">
        <ul>
            <li class="palette_heading"><h4>Drawing Palette</h4></li>
            <li class="pallette-shape"><div class="shape pallette" data-shape="Rectangle">Action<span class="drag_icon">&#10150;</span></div></li>
            <li class="pallette-shape"><div class="shape pallette" data-shape="Circle_start">Start<span class="drag_icon">&#10150;</span></div></li>
            <li class="pallette-shape"><div class="shape pallette" data-shape="Circle_stop">Stop<span class="drag_icon">&#10150;</span></div></li>
            <li class="pallette-shape"><div class="shape pallette" data-shape="Diamond">Decision<span class="drag_icon">&#10150;</span></div></li>
        </ul>
    </div>

    <ul class="list img-list">
        <li>
            <div class="li-text">
                <h4 class="li-head">Performer 1</h4>
            </div>
        </li>
        <li>
            <div class="li-text">
                <h4 class="li-head">Performer 2</h4>
            </div>
        </li>
        <li>
            <div class="li-text">
                <h4 class="li-head">Performer 3</h4>
            </div>
        </li>
    </ul>

    

    

    <div id="render"></div>
    <div class="shape rectangle" data-shape="Rectangle">Action 1<span class="drag_icon">&#10150;</span></div>
    <div class="shape rectangle" data-shape="Rectangle">Action 2<span class="drag_icon">&#10150;</span></div>
    <div class="shape rectangle" data-shape="Rectangle">Action 3<span class="drag_icon">&#10150;</span></div>
    <div class="shape rectangle" data-shape="Rectangle">Action 4<span class="drag_icon">&#10150;</span></div>
    <div class="shape" data-shape="Circle_start">Start<span class="drag_icon">&#10150;</span></div>
    <div class="shape" data-shape="Circle_stop">Stop<span class="drag_icon">&#10150;</span></div>
    <div class="shape" data-shape="Diamond">Decision<span class="drag_icon">&#10150;</span></div>

    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300" height="200"  xml:space="preserve">
    <defs>
        <linearGradient id="gradient-roundedRectangle" x1="159.5" y1="73" x2="159.5" y2="108.5" gradientUnits="userSpaceOnUse" >
            <stop offset="0" stop-color="rgb(29, 104, 255)" stop-opacity="1" />
            <stop offset="0" stop-color="rgb(142, 180, 255)" stop-opacity="1" />
            <stop offset="1" stop-color="rgb(255, 255, 255)" stop-opacity="1" />
        </linearGradient>
    </defs>
    <g id="group3">
        <rect id="roundedRectangle" stroke="rgb(128, 128, 128)" stroke-width="1.5" fill="url(#gradient-roundedRectangle)" x="124.5" y="73" width="70" height="35.5" rx="4" />
        <text fill="rgb(0, 0, 0)" font-family="Helvetica, sans-serif" font-size="9" x="127.56" y="83">
            <tspan x="127.56" y="92">Test Shape Text</tspan>
        </text>
        <g id="group2">
            <g id="group">
                <path id="polygon" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" fill="rgb(87, 143, 255)" d="M 188,98.17 L 191.94,101.46 190.43,106.79 185.57,106.79 184.06,101.46 188,98.17 Z M 188,98.17" />
            </g>
            <circle id="oval" stroke="rgb(0, 0, 226)" fill="rgb(29, 104, 255)" cx="188" cy="97" r="2.5" />
        </g>
    </g>
</svg>


    
</div>

<div id="window">
    <input class="text input" type="text" placeholder="Enter Label">
    <span id="ok" class="k-button">OK</span>
</div>

<span id="undo" style="display:none" class="k-button">Click here to open the window.</span>


<script type="text/javascript">

    $(document).ready(function () {

        var window = $("#window");
        var ok = $("#ok").bind("click", function () {
            window.data("kendoWindow").close();
        });

        $(".shape").bind("click", function () {
            window.data("kendoWindow").center();
            window.data("kendoWindow").open();
        });

        var onClose = function () {
            //undo.show();
        }

        if (!window.data("kendoWindow")) {
            window.kendoWindow({
                width: "300px",
                close: onClose
            });
        }

        $(".pallette").draggable({
            containment: '#pallette-draw',
            helper: 'clone',
            stop: function (event, ui) {
                $(ui.helper).clone().removeClass('pallette ui-draggable-dragging jsPlumb_dragged').addClass('clone').appendTo($('#pallette-draw'));

                jsPlumb.repaintEverything();

                var clone = $('.clone');

                jsPlumb.makeTarget(clone, { dropOptions: { hoverClass: "dragHover" }, anchor: "Continuous" });

                //jsPlumb.makeSource(clone, { filter: ".drag_icon", anchor: "Continuous", connector: "Flowchart" });

                clone.draggable({
                    stop: function (event, ui) {
                        jsPlumb.repaintEverything();
                    }
                });                

                clone.removeClass('clone');
            }
        });

        $('li').droppable({
            hoverClass: "ui-state-active",
            drop: function (event, ui) {

                //$(ui.helper).clone().removeClass('pallette ui-draggable-dragging jsPlumb_dragged').addClass('clone').appendTo($('#pallette-draw'));

                //jsPlumb.repaintEverything();

                //jsPlumb.setDraggable($(ui.helper), true);

                //jsPlumb.makeSource(ui.helper, { filter: ".drag_icon", anchor: "Continuous", connector: "Flowchart" });

                //jsPlumb.makeTarget(ui.helper, { dropOptions: { hoverClass: "dragHover" }, anchor: "Continuous" });


            }
        });
    });  

</script>

<style>
    
    #example 
                {
                    min-height:200px;
                }

                #undo {
                    text-align: center;
                    position: absolute;
                    white-space: nowrap;
                    padding: 1em;
                    cursor: pointer;
                }
    
    .img-list
    {
        float: left;
        width: 87%;
    }
    
    .list li
    {
        display: table;
        border-collapse: collapse;
        width: 100%;
        height: 250px;
        padding: 5px;
        border-bottom: 2px solid #2C2A67;
        
    }
    .ui-state-active
    {
        background: #FEFFD6;
    }
    .inner
    {
        display: table-row;
        overflow: hidden;
    }
    .li-text
    {
    	/*display: table-cell;*/
        width: 250px;
        vertical-align: middle;
        transform:rotate(-90deg);
    -moz-transform:rotate(-90deg);
    -o-transform:rotate(-90deg);
    -webkit-transform:rotate(-90deg);
    -ms-transform:rotate(-90deg);
    
    -webkit-transform-origin: 120px 120px;
-moz-transform-origin: 120px 120px;
-ms-transform-origin: 120px 120px;
-o-transform-origin: 120px 120px;
border-bottom: 2px solid #2C2A67;
        
    }
    .li-head
    {
        margin: 0;
    }
    .li-sub
    {
        margin: 0;
    }
</style>


				          		    
